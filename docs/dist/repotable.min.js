!function(t,e){"use strict";var n=e.module("repotable",["ng","ngSanitize","ngMessages"]);t.console?null:t.console={log:function(){}},n.constant("colTypes",{ID:1,IDS:2,TITLE:3,DATE:4,CUSTOMER:5,RESOURCE:6,STATUS:7,STATUSSM:8,FAMILY:9,NUMBER:10,HOURS:11,COSTS:12,PERCENT:13,GAIN:14,ICON:15,BUTTONS:16,DISABLED:17,LINK:18,BOOL:19,DOUBLE:20,WEEKS:21}),n.constant("fieldTypes",{TEXT:1,BOOL:2,NUMBER:3,DOUBLE:4,PERCENT:5,GAIN:6,COSTS:7,HOURS:8,WEEKS:9,DATE:10,STATUS:11,RESOURCE:12,LINK:13}),n.constant("fieldTotalTypes",{SUM:1,MIN:2,MAX:3,AVG:4}),n.directive("draggableItem",["$parse","$timeout","Utils","Style","ElementRect","Droppables",function(n,i,r,s,o,a){return{require:"ngModel",link:function(c,l,u,h){function f(t){return C(c)&&(b=r.getTouch(t),p()),!1}function d(t){return E=r.getTouch(t),w=b.difference(E),!x&&w.power()>25&&(x=!0,l.addClass("dragging")),x&&(A.transform="translateX("+w.x+"px) translateY("+w.y+"px)",A.set(N),I.set(T).offset(w),k=a.getIntersections(I),k.length&&e.element(k[0].native).addClass("dropping")),!1}function g(t){if(x){x=!1,l.removeClass("dragging"),A.transform="none",A.set(N);var r=n(u.droppableIndex)(c),s=n(u.ngModel)(c);if(k.length){var o=null;e.forEach(k,function(t,n){e.element(t.native).removeClass("dropping over"),t.data.droppable(c)&&!o&&(o={from:{index:r,model:s,target:N},to:{index:t.data.index,model:t.data.model,target:t.native}},i(function(){c.$emit("onDropItem",o)}))})}else{var o={from:{index:r,model:s,target:N},to:null};i(function(){c.$emit("onDropOut",o)})}}return m(),!1}function p(){e.element(t).on("touchmove mousemove",d),e.element(t).on("touchend mouseup",g)}function m(){e.element(t).off("touchmove mousemove",d),e.element(t).off("touchend mouseup",g)}function v(){l.on("touchstart mousedown",f)}function y(){l.off("touchstart mousedown",f)}var b,E,w,x,k,T=l[0],S=u.draggableItem||".item",C=void 0!==u.draggableIf?n(u.draggableIf):function(){return!0},N=T.querySelector(S),A=new s,I=new o;c.$on("$destroy",function(){y()}),v()}}}]),n.directive("droppableItem",["$parse","Utils","Style","Droppables",function(t,e,n,i){return{require:"ngModel",link:function(e,n,r,s){function o(){var n=t(r.droppableIndex)(e),i=t(r.ngModel)(e),s=void 0!==r.droppableIf?t(r.droppableIf):function(){return!0};return{index:n,model:i,droppable:s}}var a=n[0];r.droppableItem||".item";i.add(a,o),e.$on("$destroy",function(){i.remove(a)})}}}]),n.directive("toggler",["$document","$parse","$timeout","Utils",function(t,n,i,r){return{restrict:"A",link:function(s,o,a,c){function l(){return n(a.toggler+"=="+a.value)(s)}function u(){g(),i(function(){n(a.toggler+"="+a.value)(s)})}function h(){p(),i(function(){n(a.toggler+"=null")(s)})}function f(t){setTimeout(function(){l()?h():u()},100)}function d(t){l()&&null===r.getClosestElement(t.target,o[0])&&null===r.getClosest(t.target,a.target)&&h()}function g(){e.element(t).on("click",d)}function p(){e.element(t).off("click",d)}function m(){o.on("click",f)}function v(){o.off("click",f)}if(void 0===a.value)throw new Error("[toggler] attribute value required");if(void 0===a.target)throw new Error("[toggler] attribute target required");s.$on("$destroy",function(){v(),p()}),m()}}}]),n.directive("stickyTableHeader",["$rootScope","$window","$timeout","Utils","Animate","Style",function(t,n,i,r,s,o){return{restrict:"A",link:function(t,n,i,a){function c(){l(),d=d||e.element(n[0].querySelector(g)),b+=(E-b)/4,x<b?(w=Math.min(n[0].offsetHeight-215,(x-b)*-1),m||(m=!0,n.addClass(p))):(w=0,m&&(m=!1,n.removeClass(p))),T.transform("translate3d(0, "+w+"px, 0)"),T.set(d[0])}function l(){return f=n[0].getBoundingClientRect(),x===f.top?void(k=x):(x=f.top,x>=k?y++:y--,y>3?(y=0,v=1,E=79):y<-3&&(y=0,v=0,E=0),void(k=x))}function u(){S.play()}function h(){S.pause()}if(r.ua.mobile||r.ua.msie)return void n.addClass("sticky-disabled");var f,d,g=void 0!==i.stickyTableHeader?i.stickyTableHeader:".fixed",p=void 0!==i.stickedClass?i.stickedClass:"sticked",m=!1,v=0,y=0,b=0,E=0,w=0,x=0,k=0,T=new o,S=new s(c);t.$on("$destroy",function(){h()});var C=n[0];t.$watchCollection(function(){var t=Array.prototype.slice.call(C.querySelectorAll(".real th"),0),e=Array.prototype.slice.call(C.querySelectorAll(".dummy th"),0);if(t.length===e.length){var n=t.concat(e);return n.map(function(t){return t.getBoundingClientRect().width})}return[]},function(t){var n=C.querySelectorAll(".real th"),i=C.querySelectorAll(".dummy th");n.length===i.length&&e.forEach(i,function(t,e){var i=t.getBoundingClientRect().width;n[e].style.width=i+"px",n[e].style.minWidth=i+"px"})}),u()}}}]),n.directive("repotable",[function(){return{restrict:"EA",replace:!0,templateUrl:"repotable/partials/repotable",link:function(t,e,n,i){console.log("repotable")}}}]),n.filter("shortName",["$filter",function(t){function e(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}return function(t){if(!t)return"";t.indexOf(" .")===t.length-2&&(t=t.split(" .").join(""));var n=t.split(" "),i=n.shift();if(n.length){var r=n.join(" ");return i.substr(0,1).toUpperCase()+"."+e(r)}return i}}]),n.filter("customCurrency",["$filter",function(t){var e=t("currency");return function(t,n){return e(t*n.ratio,n.formatting)}}]),n.filter("customNumber",["$filter",function(t){var e=t("number");return function(t,n,i){return i=i||"",t?e(t,n)+i:"-"}}]),n.filter("customHours",[function(){return function(t){if(t){var e=Math.floor(t),n=Math.floor(60*(t-e)),i=e?e+" H":"";return i+=n?" "+n+" m":""}return"-"}}]),n.filter("customDate",["$filter",function(t){var e=t("date");return function(t,n,i){return t?e(t,n,i):"-"}}]),n.filter("customTime",["$filter",function(t){return function(t,e){return t?Utils.parseTime(t):e?e:"-"}}]),n.filter("customDigital",["$filter",function(t){return function(t,e){return t?Utils.parseHour(t):e?e:"-"}}]),n.filter("customString",["$filter",function(t){return function(t,e){return t?t:e?e:"-"}}]),n.filter("customEnum",function(){return function(t){return t+=1,t<10?"0"+t:t}}),n.factory("State",["$timeout",function(t){function e(){this.isReady=!1,this.idle()}return e.prototype={idle:function(){this.isBusy=!1,this.isError=!1,this.isErroring=!1,this.isSuccess=!1,this.isSuccessing=!1,this.button=null,this.errors=[]},enabled:function(){return!this.isBusy&&!this.isErroring&&!this.isSuccessing},busy:function(){return!this.isBusy&&(this.isBusy=!0,this.isError=!1,this.isErroring=!1,this.isSuccess=!1,this.isSuccessing=!1,this.errors=[],!0)},success:function(){this.isBusy=!1,this.isError=!1,this.isErroring=!1,this.isSuccess=!0,this.isSuccessing=!0,this.errors=[],t(function(){this.isSuccessing=!1,this.button=null}.bind(this),1e3)},error:function(e){this.isBusy=!1,this.isError=!0,this.isErroring=!0,this.isSuccess=!1,this.isSuccessing=!1,this.errors.push(e),t(function(){this.isErroring=!1,this.button=null}.bind(this),1e3)},ready:function(){this.isReady=!0,this.success()},errorMessage:function(){return this.isError?this.errors[this.errors.length-1]:null},submitClass:function(){return{busy:this.isBusy,ready:this.isReady,successing:this.isSuccessing,success:this.isSuccess,errorring:this.isErroring,error:this.isError}},submitMessage:function(t,e,n,i){return t=t||"Submit",this.isBusy?e||t:this.isSuccess?n||t:this.isError?i||t:t}},e}]),n.factory("Animate",[function(){function e(t,e){this.callback=t,this.isPlaying=!1,this.key=null,this.ticks=0,this.useTimeout=e===!0}return e.prototype={play:function(){function e(i){n.ticks++,n.callback(i,n.ticks),n.useTimeout?n.key=t.setTimeout(e,1e3/60):n.key=t.requestAnimationFrame(e)}var n=this;n.key||(n.isPlaying=!0,e())},pause:function(){var e=this;e.key&&(e.useTimeout?t.clearTimeout(e.key):t.cancelAnimationFrame(e.key),e.key=null,e.isPlaying=!1)},playpause:function(){var t=this;t.key?t.pause():t.play()}},e}]),n.factory("Md5",[function(){function t(t,e){var o=t[0],a=t[1],c=t[2],l=t[3];o=n(o,a,c,l,e[0],7,-680876936),l=n(l,o,a,c,e[1],12,-389564586),c=n(c,l,o,a,e[2],17,606105819),a=n(a,c,l,o,e[3],22,-1044525330),o=n(o,a,c,l,e[4],7,-176418897),l=n(l,o,a,c,e[5],12,1200080426),c=n(c,l,o,a,e[6],17,-1473231341),a=n(a,c,l,o,e[7],22,-45705983),o=n(o,a,c,l,e[8],7,1770035416),l=n(l,o,a,c,e[9],12,-1958414417),c=n(c,l,o,a,e[10],17,-42063),a=n(a,c,l,o,e[11],22,-1990404162),o=n(o,a,c,l,e[12],7,1804603682),l=n(l,o,a,c,e[13],12,-40341101),c=n(c,l,o,a,e[14],17,-1502002290),a=n(a,c,l,o,e[15],22,1236535329),o=i(o,a,c,l,e[1],5,-165796510),l=i(l,o,a,c,e[6],9,-1069501632),c=i(c,l,o,a,e[11],14,643717713),a=i(a,c,l,o,e[0],20,-373897302),o=i(o,a,c,l,e[5],5,-701558691),l=i(l,o,a,c,e[10],9,38016083),c=i(c,l,o,a,e[15],14,-660478335),a=i(a,c,l,o,e[4],20,-405537848),o=i(o,a,c,l,e[9],5,568446438),l=i(l,o,a,c,e[14],9,-1019803690),c=i(c,l,o,a,e[3],14,-187363961),a=i(a,c,l,o,e[8],20,1163531501),o=i(o,a,c,l,e[13],5,-1444681467),l=i(l,o,a,c,e[2],9,-51403784),c=i(c,l,o,a,e[7],14,1735328473),a=i(a,c,l,o,e[12],20,-1926607734),o=r(o,a,c,l,e[5],4,-378558),l=r(l,o,a,c,e[8],11,-2022574463),c=r(c,l,o,a,e[11],16,1839030562),a=r(a,c,l,o,e[14],23,-35309556),o=r(o,a,c,l,e[1],4,-1530992060),l=r(l,o,a,c,e[4],11,1272893353),c=r(c,l,o,a,e[7],16,-155497632),a=r(a,c,l,o,e[10],23,-1094730640),o=r(o,a,c,l,e[13],4,681279174),l=r(l,o,a,c,e[0],11,-358537222),c=r(c,l,o,a,e[3],16,-722521979),a=r(a,c,l,o,e[6],23,76029189),o=r(o,a,c,l,e[9],4,-640364487),l=r(l,o,a,c,e[12],11,-421815835),c=r(c,l,o,a,e[15],16,530742520),a=r(a,c,l,o,e[2],23,-995338651),o=s(o,a,c,l,e[0],6,-198630844),l=s(l,o,a,c,e[7],10,1126891415),c=s(c,l,o,a,e[14],15,-1416354905),a=s(a,c,l,o,e[5],21,-57434055),o=s(o,a,c,l,e[12],6,1700485571),l=s(l,o,a,c,e[3],10,-1894986606),c=s(c,l,o,a,e[10],15,-1051523),a=s(a,c,l,o,e[1],21,-2054922799),o=s(o,a,c,l,e[8],6,1873313359),l=s(l,o,a,c,e[15],10,-30611744),c=s(c,l,o,a,e[6],15,-1560198380),a=s(a,c,l,o,e[13],21,1309151649),o=s(o,a,c,l,e[4],6,-145523070),l=s(l,o,a,c,e[11],10,-1120210379),c=s(c,l,o,a,e[2],15,718787259),a=s(a,c,l,o,e[9],21,-343485551),t[0]=u(o,t[0]),t[1]=u(a,t[1]),t[2]=u(c,t[2]),t[3]=u(l,t[3])}function e(t,e,n,i,r,s){return e=u(u(e,t),u(i,s)),u(e<<r|e>>>32-r,n)}function n(t,n,i,r,s,o,a){return e(n&i|~n&r,t,n,s,o,a)}function i(t,n,i,r,s,o,a){return e(n&r|i&~r,t,n,s,o,a)}function r(t,n,i,r,s,o,a){return e(n^i^r,t,n,s,o,a)}function s(t,n,i,r,s,o,a){return e(i^(n|~r),t,n,s,o,a)}function o(e){var n,i=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)t(r,a(e.substring(n-64,n)));e=e.substring(n-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)s[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(t(r,s),n=0;n<16;n++)s[n]=0;return s[14]=8*i,t(r,s),r}function a(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function c(t){for(var e="",n=0;n<4;n++)e+=f[t>>8*n+4&15]+f[t>>8*n&15];return e}function l(t){for(var e=0;e<t.length;e++)t[e]=c(t[e]);return t.join("")}function u(t,e){return t+e&4294967295}function h(){}var f="0123456789abcdef".split("");return h.encode=function(t){return l(o(t))},"5d41402abc4b2a76b9719d911017c592"!==h.encode("hello")&&(u=function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}),h}]),n.factory("Utils",["$compile","$controller","Vector","Md5",function(n,i,r,s){function o(t,e){var n=new r;if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var i=null,s=t.originalEvent?t.originalEvent:t,o=s.touches.length?s.touches:s.changedTouches;o&&o.length&&(i=o[0]),i&&(n.x=i.pageX,n.y=i.pageY)}else"click"!=t.type&&"mousedown"!=t.type&&"mouseup"!=t.type&&"mousemove"!=t.type&&"mouseover"!=t.type&&"mouseout"!=t.type&&"mouseenter"!=t.type&&"mouseleave"!=t.type||(n.x=t.pageX,n.y=t.pageY);return e&&(n.s=r.difference(e,n)),n.type=t.type,n}function a(t,e){var n=t[0].getBoundingClientRect(),i=new r(n.left,n.top);return r.difference(i,e)}function c(t,e){var n,i;if(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(t){return"function"==typeof document.body[t]&&(n=t,!0)}),t[n](e))return t;for(;null!==t;){if(i=t.parentElement,null!==i&&i[n](e))return i;t=i}return null}function l(t,e){var n;if(t===e)return t;for(;null!==t;){if(n=t.parentElement,null!==n&&n===e)return n;t=n}return null}function u(t,e,n){var i,r,s,o=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:b(),o=null,s=t.apply(i,r),o||(i=r=null)};return function(){var l=b();a||n.leading!==!1||(a=l);var u=e-(l-a);return i=this,r=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),a=l,s=t.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(c,u)),s}}function h(t,n){var i=null;return t&&e.forEach(t,function(t){var r=!0;e.forEach(n,function(e,n){r=r&&t[n]===e}),r&&(i=t)}),i}function f(t,r,s,o){r.html(s);var a=n(r.contents());if(o.controller){var c=t.$new();e.extend(c,o);var l=i(o.controller,{$scope:c});o.controllerAs&&(t[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l),t=c}a(t)}function d(){}function g(t){return function(e,n){return e[t]<n[t]?1:e[t]>n[t]?-1:0}}function p(t,n,i){t=t||"",n=n||"";var r=t.split(",");if(r.length>1){var s=r.shift();return e.forEach(r,function(t,e){s=i?s.split("{"+e+"}").join("' + "+n+t+" + '"):s.split("{"+e+"}").join(n+t)}),i?"'"+s+"'":s}return n+t}function m(t,e){return t[e]}function v(t,e,n){return"string"==typeof e?v(t,e.split("."),n):1==e.length&&void 0!==n?t[e[0]]=n:0==e.length?t:v(t[e[0]],e.slice(1),n)}function y(t,e,n){return"string"==typeof e?y(t,e.split("."),n):1==e.length&&void 0!==n?t[e[0]]+=n:0==e.length?t:y(t[e[0]],e.slice(1),n)}!function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,i){var r=(new Date).getTime(),s=Math.max(0,16-(r-e)),o=t.setTimeout(function(){n(r+s)},s);return e=r+s,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,n=Object(this),i=n.length>>>0,r=0;if(2==arguments.length)e=arguments[1];else{for(;r<i&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");e=n[r++]}for(;r<i;)r in n&&(e=t(e,n[r],r,n)),r++;return e}})}();var b=Date.now||function(){return(new Date).getTime()},E=t.navigator.userAgent.toLowerCase(),w=E.indexOf("safari")!==-1&&E.indexOf("chrome")===-1,x=E.indexOf("trident")!==-1||E.indexOf("edge")!==-1||E.indexOf("msie")!==-1,k=!w&&!x&&E.indexOf("chrome")!==-1,T=E.indexOf("mobile")!==-1;return d.reverseSortOn=g,d.getTouch=o,d.getRelativeTouch=a,d.getClosest=c,d.getClosestElement=l,d.throttle=u,d.where=h,d.format=p,d.compileController=f,d.reducer=m,d.reducerSetter=v,d.reducerAdder=y,d.toMd5=function(t){return s.encode(t)},d.ua={safari:w,msie:x,chrome:k,mobile:T},e.forEach(d.ua,function(t,n){t&&e.element(document.getElementsByTagName("body")).addClass(n)}),d}]),n.factory("Vector",function(){function t(t,e){this.x=t||0,this.y=e||0}return t.make=function(e,n){return new t(n.x-e.x,n.y-e.y)},t.size=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.normalize=function(e){var n=t.size(e);return e.x/=n,e.y/=n,e},t.incidence=function(t,e){var n=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return n},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.cross=function(t,e){return t.x*e.y-t.y*e.x},t.difference=function(e,n){return new t(n.x-e.x,n.y-e.y)},t.power=function(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return(n+i)/2},t.prototype={size:function(){return t.size(this)},normalize:function(){return t.normalize(this)},incidence:function(e){return t.incidence(this,e)},cross:function(e){return t.cross(this,e)},distance:function(e){return t.distance(this,e)},difference:function(e){return t.difference(this,e)},power:function(){return(Math.abs(this.x)+Math.abs(this.y))/2},towards:function(t,e){return e=e||.125,this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},add:function(t){return this.x+=t.x,this.y+=t.y,this},friction:function(t){return this.x*=t,this.y*=t,this},copy:function(e){return new t(this.x,this.y)},toString:function(){return"{"+this.x+","+this.y+"}"}},t}),n.factory("ElementRect",["Vector",function(t){function e(){this.x=0,this.y=0,this.width=0,this.height=0,this.center=new t}return e.fromNative=function(t){return(new e).set(t)},e.prototype={set:function(t){var e=t.getBoundingClientRect();return this.x=e.left,this.y=e.top,this.width=t.offsetWidth,this.height=t.offsetHeight,this.center.x=this.x+this.width/2,this.center.y=this.y+this.height/2,this.native=t,this},offset:function(t){return this.x+=t.x,this.y+=t.y,this.center.x=this.x+this.width/2,this.center.y=this.y+this.height/2,this},intersect:function(t){return!(t.x>this.x+this.width||t.x+t.width<this.x||t.y>this.y+this.height||t.y+t.height<this.y)},toString:function(){return"{"+this.x+","+this.y+","+this.width+","+this.height+"}"}},e}]),n.factory("Style",function(){function t(){this.props={scale:1,hoverScale:1,currentScale:1}}var n=function(){var t="transform",e="webkitTransform",i=document.createElement("DIV");return"undefined"!=typeof i.style[t]?["webkit","moz","o","ms"].every(function(t){var e="-"+t+"-transform";return"undefined"==typeof i.style[e]||(n=e,!1)}):n="undefined"!=typeof i.style[e]?"-webkit-transform":void 0,n}();return t.prototype={set:function(t){var n=[];e.forEach(this,function(t,e){"props"!==e&&n.push(e+":"+t)}),t.style.cssText=n.join(";")+";"},transform:function(t){this[n]=t},transformOrigin:function(t,e){this[n+"-origin-x"]=Math.round(1e3*t)/1e3+"%",this[n+"-origin-y"]=Math.round(1e3*e)/1e3+"%"}},t.prefix=n,t}),n.factory("Filters",[function(){function t(){this.keys={},this.flags={},this.values=[],this.search=[]}return t.prototype={has:function(t){return t&&this.keys[t]===!0||!1},active:function(t){return this.has(t)&&this.flags[t]===!0||!1},removeAll:function(){this.keys={},this.values.length=0},reset:function(){this.removeAll(),this.flags={},this.search=[]},clear:function(){var t=this;e.forEach(this.values,function(e){t.off(e)})},on:function(t){t.active=this.flags[t.id]=!0,this.search.push(t.id)},off:function(t){t.active=this.flags[t.id]=!1;var e=this.search.indexOf(t.id);this.search.splice(e,1)},toggle:function(t){this.active(t.id)?this.off(t):this.on(t)},add:function(t){t.id&&!this.has(t.id)&&(this.keys[t.id]=!0,this.values.push(t))},remove:function(t){if(this.has(t.id)){var e;this.flags[t.id]===!0&&(t.active=this.flags[t.id]=!1,e=this.search.indexOf(t.id),this.search.splice(e,1)),e=this.values.indexOf(t),this.values.splice(e,1),this.keys[t.id]=!1}},sort:function(){this.values.sort(function(t,e){var n,i;return n=t.name?String(t.name).toLowerCase():"",i=e.name?String(e.name).toLowerCase():"",n<i?-1:n>i?1:0})},filter:function(t){return!this.search.length||this.search.indexOf(t.key)!==-1}},t}]),n.factory("Order",["repoLocale",function(t){function e(){this.set(0)}return e.prototype={set:function(e){switch(e){case 1:this.name=t.asc,this.sort=1,this.asc=!0,this.desc=!1;break;case-1:this.name=t.desc,this.sort=-1,this.asc=!1,this.desc=!0;break;default:this.name=t.order,this.sort=0,this.asc=!1,this.desc=!1}},toggle:function(){var t=this.sort-1;t===-2?t=1:null,this.set(t)}},e}]),n.factory("Field",["$parse","$filter","Utils","Filters","Order","fieldTypes","fieldTotalTypes",function(t,n,i,r,s,o,a){function c(n){this.filters=new r,this.order=new s,this.typeTotal=this.typeTotal||a.SUM,n?e.extend(this,n):null,e.isFunction(this.value)&&(this.value=this.value.bind(this)),this.name=this.name||this.value,this.raw=this.raw||this.value,this.key=this.key||this.value,this.source=this.source||this.value,this.getters={};var i=["key","value","raw","source","post"];e.forEach(i,function(n){this[n]&&(this.getters[n]=e.isFunction(this[n])?this[n]:t(this[n]))},this),this.setters={},e.forEach(this.getters,function(t,n){e.isFunction(this[n])||(this.setters[n]=t.assign)},this),this.keys={},this.total=0}return c.prototype={reset:function(){this.keys={},this.total=0,this.isActive()||this.filters.reset()},hasKey:function(t){var e=!0,n=this.getters.key(t);return n&&1!=this.keys[n]&&(this.keys[n]=!0,e=!1),e},initValue:function(t){return this.setters.raw(t,this.getters.value(t)||0),this},aggregation:function(t,e){var n=this.getters.raw(t)||0,i=this.getters.value(e)||0,r=this;switch(r.typeTotal){case a.MIN:r.setters.raw(t,Math.min(n,i));break;case a.MAX:r.setters.raw(t,Math.max(n,i));break;case a.AVG:var s=0;r.setters.raw(t,(i+n*s)/(s+1));break;default:r.setters.raw(t,n+i)}return r},addCount:function(t,e){if(!this.hasKey(e)&&this.setters.raw){var n=null;n=t!=e?(this.getters.raw(t)||0)+1:1,this.setters.raw(t,n)}return this},addValue:function(t){var e=this.getters.key(t);if(!this.filters.has(e)){var n=this.formatValue(this.getters.raw(t)),i=this.filters.flags[e];this.filters.add({id:e,name:n||"-",active:i})}},getLink:function(t){return e.isFunction(this.link)?this.link(t):null},isActive:function(){return e.isFunction(this.active)&&this.active?this.active():this.active},toggle:function(){e.isFunction(this.active)?null:this.active=!this.active},activate:function(){e.isFunction(this.active)?null:this.active=!0},deactivate:function(){e.isFunction(this.active)?null:this.active=!1},formatValue:function(t){switch(this.type){case o.RESOURCE:case o.DISABLED:t=n("shortName")(t);break;case o.ID:case o.NUMBER:t=n("customNumber")(t,0);break;case o.DOUBLE:t=n("customNumber")(t,2);break;case o.WEEKS:t=n("customNumber")(t,2," W");break;case o.DATE:t=n("date")(t,"yyyy-MM-dd");break;case o.HOURS:t=n("customNumber")(t,0," H");break;case o.COSTS:t=n("customNumber")(t,0," €");break;case o.PERCENT:t=n("customNumber")(t,2," %");break;case o.GAIN:t=e.isNumber(t)?(t>0?"+":"")+n("customNumber")(t,2," %"):t||"-"}return t},getTotal:function(t){var e=this.getValueTotal(t);return this.formatValue(e)},getFormat:function(){var t="";switch(this.type){case o.ID:case o.NUMBER:t="#";break;case o.DOUBLE:t="#";break;case o.DATE:t="yyyy-mm-dd";break;case o.WEEKS:t="#,###0 [$W]";break;case o.HOURS:t="#,###0 [$H]";break;case o.COSTS:t="#,###.00 €";break;case o.PERCENT:t="0.00%";break;case o.GAIN:t="[Color 10]+0.00%;[Red]-0.00%;-"}return t},getCellTotal:function(t,n){var i,r,s=0,c=this;if(c.compare&&c.type===o.GAIN){var l=0,u=0;e.forEach(t,function(t){i=t.cols[c.$field.col.index],r=t.cols[n],l+=i.getValue()||0,u+=r.getValue()||0}),u&&(s=(l-u)/u*100)}else{switch(c.typeTotal){case a.SUM:s=0;break;case a.MIN:s=Number.POSITIVE_INFINITY;break;case a.MAX:s=Number.NEGATIVE_INFINITY;break;case a.AVG:}e.forEach(t,function(t,e){i=t.cols[n];var r=s,o=i.getValue()||0;switch(c.typeTotal){case a.SUM:s=r+o;break;case a.MIN:s=r<o?r:o;break;case a.MAX:s=r>o?r:o;break;case a.AVG:s=(o+r*e)/(e+1)}}),s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY?s=0:null}return c.total=s,s},getValueTotal:function(t){var n=0,i=this;if(i.compare&&i.type===o.GAIN){var r=0,s=0;e.forEach(t,function(t){r+=i.$field.getters.raw(t)||0,s+=i.getters.raw(t)||0}.bind(this)),s&&(n=(r-s)/s*100)}else{switch(i.typeTotal){case a.SUM:n=0;break;case a.MIN:n=Number.POSITIVE_INFINITY;break;case a.MAX:n=Number.NEGATIVE_INFINITY;break;case a.AVG:}e.forEach(t,function(t,e){var r=n,s=i.getters.raw(t)||0;switch(i.typeTotal){case a.SUM:n=r+s;break;case a.MIN:n=r<s?r:s;break;case a.MAX:n=r>s?r:s;break;case a.AVG:n=(s+r*e)/(e+1)}}),n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY?n=0:null}return i.total=n,n},getHeaderClass:function(){return this.groupBy?"":"text-right"},getColumnClass:function(){return this.color?"shade-light-blue-"+this.color:""},getCellClass:function(t){var n=this,i=[];switch(e.forEach(n,function(t,e){t===!0&&i.push(e)}),n.groupBy?null:i.push("text-right"),e.forEach(o,function(t,e){t===n.type&&i.push("cell-"+e.toLowerCase())}),n.type){case o.LINK:i.push("text-underline")}return i.join(" ")},getTextClass:function(t){var n=[];switch(this.type){case o.GAIN:var i=this.getters.raw(t);e.isNumber(i)&&i<0?n.push("text-danger"):n.push("text-success")}return n.join(" ")},getTotalClass:function(t){var e=[];switch(this.type){case o.NUMBER:case o.DOUBLE:case o.WEEKS:case o.HOURS:case o.COSTS:case o.PERCENT:case o.GAIN:e.push("text-right")}return e.join(" ")},toStatic:function(t){this.post&&this.setters.raw(t,this.getters.post(t)||0);var e=this,n={cellClass:e.getCellClass(t),textClass:e.getTextClass(t),link:e.link?e.link(t):null,pop:e.pop?e.pop(t):null,key:e.getters.key(t),getValue:function(){return e.dynamic&&!e.post?e.getters.value(t):n.value?n.value:e.getters.raw(t)},getName:function(){return e.dynamic&&!e.post?e.formatValue(n.getValue()):n.name?n.name:e.formatValue(n.getValue())},getTotalValue:function(t,n){return e.getCellTotal(t,n)},getTotalName:function(t,i){var r=n.getTotalValue(t,i);return e.formatValue(r)},formatValue:function(t){return e.formatValue(t)}};return n.value=n.getValue(),n.name=n.getName(),n}},c.types=o,c.totalTypes=a,c}]),n.factory("Fields",["$parse","Utils","Field","fieldTypes",function(t,n,i,r){function s(t){var n=[];return t&&e.forEach(t,function(t,e){t.$id=e+1,n.push(new i(t))}),e.extend(n,s.prototype),n}return s.prototype={expand:function(t){var n={dynamic:!0,compare:!1};t?e.extend(n,t):null;var o=[],a=this;return o.radios={},e.forEach(this,function(t,e){if(t.$id=o.length+1,o.push(t),t.aggregate&&t.value===t.raw&&(n.dynamic&&o.push(new i({$id:o.length+1,name:"%",value:function(e){return t.getters.raw(e)/t.total*100},key:t.key,type:r.PERCENT,dynamic:!0,active:function(){return o.show.dynamic&&t.active},$field:t})),n.compare)){var s=new i({$id:o.length+1,name:t.name+" anno precedente",value:function(t){return this.getters.raw(t)},raw:t.value+"Last",source:t.value,key:t.key,type:t.type,count:t.count,compare:!0,dynamic:!0,active:function(){return a.show.compare&&this.$field.active||!1},$field:t});o.push(s),o.push(new i({$id:o.length+1,name:"%",value:function(t){return 0},post:function(e){var n=t.getters.raw(e)||0,i=s.getters.raw(e)||0;return n&&i?(n-i)/i*100:n?Number.POSITIVE_INFINITY:null},raw:t.value+"Gain",source:t.value,key:t.key,type:r.GAIN,count:t.count,compare:!0,dynamic:!0,active:function(){return a.show.compare&&this.$field.active||!1},$field:t}))}t.radio&&t.active&&(o.radios[t.radio]=t.value)}),e.extend(o,s.prototype),o},reset:function(){return this.groups={},e.forEach(this,function(t){t.reset()}),this},unique:function(t,e){var n=this.getGroupKey(t),i=this.groups[n];return i||(i=this.groups[n]=t,i.cells=[],e.push(i)),i},iterate:function(t,n){t=e.copy(t);var i=this.unique(t,n);this.aggregation(i,t)},compare:function(t,n){t=e.copy(t),e.forEach(this,function(e){if(e.compare){var n=e.getters.source(t);e.setters.raw(t,n)}});var i=this.unique(t,n);this.aggregation(i,t,!0)},aggregation:function(t,n,i){return e.forEach(this,function(e){var r=i?e.compare:!e.compare;(e.isActive()||e.always)&&r&&(e.count?e.addCount(t,n):(i||e.aggregate)&&(e.hasKey(n)||(t===n?e.initValue(t):e.aggregation(t,n))))}),this},getCount:function(){var t=0;return e.forEach(this,function(e){t+=e.isActive()?1:0}.bind(this)),t},getFirstField:function(){var t=null;return e.forEach(this,function(e){null===t&&e.isActive()&&e.groupBy&&"month"!==e.value&&"monthShort"!==e.value&&(t=e)}),t},getGroupKey:function(t){var n=[];return e.forEach(this,function(e){e.isActive()&&e.groupBy&&n.push(e.getters.key(t))}),n.join("-")},getGroups:function(){var t=[];return e.forEach(this,function(e,n){e.groupBy&&t.push(e)}),e.extend(t,s.prototype),t},getAggregates:function(){var t=[];return e.forEach(this,function(e,n){e.aggregate&&!e.count&&t.push(e)}),e.extend(t,s.prototype),t},getPercentages:function(){var t=[];return e.forEach(this,function(e,n){e.type===r.PERCENT&&t.push(e)}),e.extend(t,s.prototype),t},getDynamics:function(){var t=[];return e.forEach(this,function(e,n){e.dynamic&&t.push(e)}),e.extend(t,s.prototype),t},getCompares:function(){var t=[];return e.forEach(this,function(e,n){e.compare&&t.push(e)}),e.extend(t,s.prototype),t},getCounters:function(){var t=[];return e.forEach(this,function(e,n){e.count&&t.push(e)}),e.extend(t,s.prototype),t},activeInRange:function(t){for(var e=!1,n=0;!e&&n<this.length;){var i=this[n];i.active&&(e=t.indexOf(i.value)!==-1),n++}return e},toggleFields:function(t){t.radio?(e.forEach(this,function(e){t.radio===e.radio&&t!==e&&e.deactivate()}),t.activate(),this.radios[t.radio]=t.value):t.toggle()},show:{table:!0},toStatic:function(t){var n,i=this,r=[],s=[];return e.forEach(i,function(t,e){t.filters.removeAll(),t.col={active:t.isActive(),headerClass:t.getHeaderClass(),columnClass:t.getColumnClass(),totalClass:t.getTotalClass(),format:t.getFormat(),$id:t.$id,colName:t.name,type:t.type,groupBy:t.groupBy,aggregate:t.aggregate,compare:t.compare,filters:t.filters,order:t.order,originaIndex:e},t.col.active&&(t.col.index=r.length,r.push(t.col))}),e.forEach(i,function(i){(i.col.active||i.dynamic&&!i.compare||i.always)&&(e.forEach(t,function(t,r){n=i.toStatic(t),i.hasSearch&&i.groupBy&&i.addValue(t);var o=s[r]=s[r]||{cols:[]};n=e.extend(e.copy(n),i.col),o.cols[i.col.index]=n}),i.hasSearch&&i.groupBy&&i.filters.sort())}),e.forEach(r,function(t,e){var n=s.length?s[s.length-1].cols[e]:null;t.$last=n,t.getTotalValue=function(t){return this.$last?this.$last.getTotalValue(t,e):null},t.getTotalName=function(t){return this.$last?this.$last.getTotalName(t,e):null}}),{cols:r,rows:s}}},s.fromDatas=function(t){return s.parseDatas(t)},s.parseDatas=function(t){function n(t,s){if(e.isArray(t))e.forEach(t,function(t,e){n(t,(s||"")+"["+e+"]")});else if(e.isObject(t))e.forEach(t,function(t,e){n(t,(s?s+".":"")+e)});else{var o={value:s,type:r.TEXT,active:i.length<6};e.isDate(t)||e.isNumber(t)&&(s.toLowerCase().indexOf("date")!==-1||s.toLowerCase().indexOf("time")!==-1)?(o.type=r.DATE,o.groupBy=!0,o.hasSearch=!0):e.isNumber(t)?(o.type=r.NUMBER,o.aggregate=!0,o.color=1):(e.isString(t)&&0===t.indexOf("http")&&(o.type=r.LINK),o.groupBy=!0,o.hasSearch=!0),i.push(o)}}var i=null;return t&&t.length&&(i=[],n(t[0])),i},s.types=r,s}]),n.factory("Table",["$parse","$filter","Fields","fieldTypes","fieldTotalTypes","repoLocale",function(t,n,i,r,s,o){function a(t,e){this.fields=new i(t).expand(e),this.defaults=t.map(function(t){return{$id:t.$id,active:t.active}}),this.groupables=[{name:o.groupBy,items:this.fields.getGroups()}],this.aggregables=[{name:o.aggregate,items:this.fields.getAggregates()}],this.excludes=[],this.includes=[],this.setOptions(e),this.datas=[],this.items=[],this.rows=[],this.cols=[],this.locale=o}var c=4;return a.prototype={setDatas:function(t,n){t&&e.forEach(t,function(t,e){t.$id=e+1}),this.datas=t,n&&e.forEach(n,function(t,e){t.$id=e+1}),this.compares=n,this.update()},setOptions:function(t){var e=this;this.options=[{name:o.columns,icon:"icon-columns",groups:this.groupables,toggle:function(t){return e.toggleField(t)},active:!0},{name:o.values,icon:"icon-values",groups:this.aggregables,toggle:function(t){return e.toggleField(t)}},{name:o.options,icon:"icon-options",groups:[{name:o.exclude,items:this.excludes,toggle:function(t){return e.exclude(t)}},{name:o.include,items:this.includes,toggle:function(t){return e.include(t)}},{name:o.flags,items:[{name:o.incidence,key:"dynamic"}],toggle:function(t){return e.toggle(t.key)}}]}]},update:function(){this.items=[],this.rows=[],this.cols=[];var t=this.datas,n=this.items,i=this.fields,r=this.excludes,s=this.includes,o=this.compares;i.reset(),e.forEach(t,function(t){var o=!0;e.forEach(r,function(e){e.active&&(o=o&&e.filter(t))}),e.forEach(s,function(e){e.active&&(o=o&&e.filter(t))}),o&&i.iterate(t,n)}),o&&e.forEach(o,function(t){var o=!0;e.forEach(r,function(e){e.active&&(o=o&&e.filter(t))}),e.forEach(s,function(e){e.active&&(o=o&&e.filter(t))}),o&&i.compare(t,n)}),this.toStatic()},setOrderBy:function(){var t,n=this,i=[],r=[];
e.forEach(n.fields,function(e,n){e.col.active&&(0!==e.order.sort&&(t=e.order.sort===-1?"-":"",r.push(t+"cols["+i.length+"].getValue()")),i.push("cols["+i.length+"].getValue()"))}),i.length=Math.min(c,i.length),n.filteredOrderBy=r.length?r:i},exclude:function(t){t.active=!t.active,this.update()},include:function(t){t.active=!t.active,this.update()},active:function(t){return this.fields&&this.fields.indexOf(t)!==-1?t.isActive():this.excludes.indexOf(t)!==-1||this.includes.indexOf(t)!==-1?t.active:this.has(t.key)},has:function(t){return this.fields?this.fields.show[t]:null},resetFilters:function(){var t=this;e.forEach(t.fields,function(n,i){e.forEach(t.defaults,function(t){n.$id===t.$id&&(e.isFunction(n.active)?null:n.active=t.active)}),n.filters.reset()}),t.fields=t.fields.sort(function(t,e){return t.$id-e.$id}),t.update()},hasRow:function(t){var n,i=this,r=!0;if(e.forEach(i.cols,function(e,i){n=t.cols[i],n.matches=null,r=r&&e.filters.filter(n)}),r&&i.search&&i.search.length){var s=!1;e.forEach(t.cols,function(t){t.matches=new RegExp(i.search,"gim").exec(t.name),s=s||null!==t.matches}),r=r&&s}return r},doFilterStatic:function(t){var e=this;e.fields;return function(t){return e.hasRow(t)}},toggle:function(t){var e=null;if(this.fields){var n=this.fields.show;switch(n[t]=!n[t],t){case"dynamic":n.compare=!1;break;case"compare":n.dynamic=!1}e=n[t]}return this.toStatic(),e},toggleField:function(t){this.fields.toggleFields(t),this.update()},toggleOrder:function(t){e.forEach(this.fields,function(e){e.$id!==t.$id&&e.order.set(0)}),t.order.toggle(),this.setOrderBy()},swap:function(t,n){e.forEach(this.fields,function(e){e.$id===t.$id&&(t=e),e.$id===n.$id&&(n=e)});var i=this.fields.indexOf(t),r=this.fields[i];this.fields.splice(i,1);var s=this.fields.indexOf(n);this.fields.splice(s,0,r),this.update()},toStatic:function(){var t=this,n=t.fields.toStatic(t.items);t.rows=n.rows,t.cols=n.cols,t.setOrderBy(),this.after&&e.isFunction(this.after)&&this.after(t.items)},toJson:function(t){var i=this,s={name:"Repotable",description:"a view of selected datas"};if(t?e.extend(s,t):null,s.columns=[],s.rows=[],i.rows.length){var o=i.cols,a=i.rows,c=[];e.forEach(o,function(t,e){s.columns.push({index:e,name:t.colName,format:t.format})}),e.forEach(a,function(t,e){i.hasRow(t)&&c.push(t)}),c=n("orderBy")(c,i.filteredOrderBy),e.forEach(c,function(t,n){var i=[];e.forEach(o,function(e,n){var s=t.cols[n];switch(i[n]=s.getValue(),e.type){case r.PERCENT:case r.GAIN:i[n]/=100}}),s.rows.push(i)});var l=[];e.forEach(o,function(t,e){if(t.aggregate)switch(l[e]=t.getTotalValue(c),t.type){case r.PERCENT:case r.GAIN:l[e]/=100}else l[e]=null}),s.rows.push(l)}return s}},a.fromDatas=function(t){(!e.isArray(t)||!t.length>1||!e.isObject(t[0]))&&e.forEach(t,function(n){e.isArray(n)&&n.length&&e.isObject(n[0])&&(t=n)}),e.isArray(t)||(t=[t]);var n=i.fromDatas(t),r=new a(n);return r.setDatas(t),r},a.types=r,a.totalTypes=s,a}]),n.value("repoLocale",{report:"Report",groupBy:"GroupBy",aggregate:"Aggregate",columns:"Columns",values:"Values",options:"Options",exclude:"Exclude",include:"Include",flags:"Flags",incidence:"Incidence",filter:"Filter",order:"Order",desc:"Desc",asc:"Asc",reset:"Reset",no_results:"no results"}),n.service("Droppables",["ElementRect",function(t){this.natives=[],this.callbacks=[],this.rects=[],this.add=function(e,n){this.natives.push(e),this.callbacks.push(n||function(){}),this.rects.push(t.fromNative(e))},this.remove=function(t){var e=this.natives.indexOf(t);e!==-1&&(this.natives.splice(e,1),this.callbacks.splice(e,1),this.rects.splice(e,1))},this.getIntersections=function(t){var n,i=[];return e.forEach(this.rects,function(r,s){r.set(r.native),n=e.element(r.native),n.removeClass("dropping"),r.intersect(t)?(r.distance=r.center.distance(t.center),r.data=this.callbacks[s](),i.push(r),n.addClass("over")):n.removeClass("over")}.bind(this)),i.sort(function(t,e){return t.distance<e.distance?-1:t.distance>e.distance?1:0}),i}}]),function(t){try{t=e.module("repotable")}catch(n){t=e.module("repotable",[])}t.run(["$templateCache",function(t){t.put("repotable/partials/filters",'<div>\n    <span class="float-right" ng-click="table.resetFilters()" ng-bind="table.locale.reset"></span>\n    <!-- OPTIONS -->\n    <div class="option" ng-repeat="option in table.options track by $index" ng-class="{ active: !option.closed }">\n        <h6 ng-click="option.closed = !option.closed"><i ng-class="option.icon"></i> <span ng-bind="option.name"></span></h6>\n        <!-- GROUP -->\n        <div class="group" ng-repeat="group in option.groups track by $index" ng-if="group.items.length && !option.closed">\n            <h4 ng-bind="group.name"></h4>\n            <ul class="fields">\n                <!-- ITEMS -->\n                <li class="field" ng-class="{ \'active\': table.active(item) }" ng-repeat="item in group.items track by $index" ng-click="group.toggle ? group.toggle(item) : option.toggle(item)">\n                    <span ng-bind="item.name"></span> <i class="icon-check-mark"></i>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>'),t.put("repotable/partials/repotable",'<div class="repotable">\n    <div style="display: flex;">\n        <section class="container-fluid shadow section-bordered margin-bottom-xs-40">\n            <h6 class="headline foreground light-60">\n                <i ng-class="{ \'icon-search\': !table.search, \'icon-close\': table.search }" ng-click="table.search = null"></i>\n                <input type="text" class="form-control" placeholder="{{table.name}}" ng-model="table.search" ng-model-options="{ allowInvalid: true, debounce: 250 }">\n                <i class="icon-settings float-right" ng-click="tabs.opened = !tabs.opened"></i>\n            </h6>\n            <div class="inner" ng-if="table.has(\'table\')">\n                <div ng-include="\'repotable/partials/table\'"></div>\n            </div>\n            <!-- FILTERS -->\n            <div class="filters" ng-class="{ opened: tabs.opened }" ng-include="\'repotable/partials/filters\'" ng-if="tabs.opened"></div>\n            <!-- ERRORS -->\n            <div ng-include="\'partials/errors\'"></div>\n            <!-- EXCEL -->\n            <div class="row" ng-if="filtered.length">\n                <div class="col-lg-12 text-xs-right">\n                    <button type="button" ng-click="excel()" class="btn btn-sm btn-outline-primary btn-icon btn-block-md-down">Esporta in Excel <i class="icon-print"></i></button>\n                </div>\n            </div>\n        </section>\n    </div>\n</div>'),t.put("repotable/partials/table",'<div>\n    <table class="atable-responsive atable-responsive-default atable-dynamic" style="table-layout: auto; width: 100%;">\n        <!-- HEAD -->\n        <thead>\n            <tr>\n                <th class="{{col.headerClass}}" ng-repeat="col in table.cols track by $index" ng-model="col" droppable-item=".draggable" droppable-index="$index" draggable-item=".draggable" draggable-if="col.groupBy" droppable-if="col.groupBy" ng-disabled="!col.groupBy">\n                    <div class="draggable">\n                        <span class="th-label" title="{{col.colName}}" ng-bind="col.colName"></span>\n                        <div ng-if="col.filters.values.length > 1">\n                            <button class="filter-btn dropdown-toggle" toggler="table.dropdown" value="col.$id" target="#nav-col-{{col.$id}}">\n                                <span ng-bind="table.locale.filter"></span>\n                            </button>\n                        </div>\n                        <button class="sort-btn" ng-click="table.toggleOrder(col)" ng-title="col.order.name">\n                            <span><span ng-bind="col.order.name"></span> <i ng-class="{ \'icon-sort-asc\' : col.order.asc, \'icon-sort-desc\' : col.order.desc }"></i></span>\n                        </button>\n                    </div>\n                </th>\n            </tr>\n        </thead>\n        <!-- ROWS -->\n        <tbody ng-repeat="row in table.rows | filter:table.doFilterStatic(table.cols) | orderBy:table.filteredOrderBy | limitTo:(tabs.opened ? 3 : null) as filteredRows track by $index" ng-if="!source.state.isBusy && table.rows.length">\n            <tr>\n                <td ng-repeat="cell in row.cols track by $index" style="position: relative;" link-to="cell.link" class="{{cell.cellClass}} {{cell.columnClass}}">\n                    <label ng-bind="cell.colName"></label>\n                    <span class="{{cell.textClass}}" ng-class="{ \'text-underline\': cell.pop, \'text-highlight\': cell.matches.length }" ng-bind="cell.getName()" pop="cell.pop"></span>\n                </td>\n            </tr>\n        </tbody>\n        <!-- FOOT -->\n        <tfoot ng-if="!source.state.isBusy && filteredRows.length">\n            <tr class="row-recap">\n                <td class="{{col.headerClass}}" ng-repeat="col in table.cols track by $index">\n                    <label ng-if="col.aggregate || col.compare" ng-bind="col.colName"></label>\n                    <span ng-if="col.aggregate || col.compare" class="tag {{col.textClass}} {{col.totalClass}}" ng-bind="col.getTotalName(filteredRows)"></span>\n                </td>\n            </tr>\n        </tfoot>\n        <!-- NO RESULTS -->\n        <tbody ng-if="!source.state.isBusy && !filteredRows.length">\n            <tr>\n                <td class="text-xs-center" colspan="{{table.fields.getCount()}}">\n                    <p>\n                        <span ng-bind="table.locale.no_results"></span>\n                    </p>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <ul ng-repeat="col in table.cols track by $index" ng-if="table.dropdown == col.$id" class="fields fields-filters" id="nav-col-{{col.$id}}">\n        <li ng-repeat="value in col.filters.values" class="field" ng-class="{ active: value.active }" ng-click="stop($event) && col.filters.toggle(value)">\n            <span ng-bind="value.name"></span> <i class="icon-check-mark"></i>\n        </li>\n    </ul>\n</div>')}])}()}(window,window.angular);
//# sourceMappingURL=repotable.min.js.map
